(function(){"use strict";var t={6536:function(t,e,a){var s=a(7195),r=function(){var t=this,e=t._self._c;return e("router-view")},i=[],o={name:"App"},n=o,l=a(1001),c=(0,l.Z)(n,r,i,!1,null,null,null),d=c.exports,u=a(2241),m=(a(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"front-wrapper"},[e("div",{staticClass:"front-sidebar"},[t._m(0),e("div",{staticClass:"front-sidemenu"},[e("ul",t._l(t.categories,(function(s,r){return e("li",{key:r,class:t.active===r?"active":"",on:{click:function(e){t.active=r}}},[e("div",[e("img",{attrs:{src:a(3549),alt:""}}),e("h3",{on:{click:function(e){return t.getItems(s)}}},[t._v(t._s(s.name))])])])})),0)])]),e("Nav",{attrs:{cart:t.cart,categories:t.categories,user:t.user}}),e("div",{staticClass:"front-main"},[e("div",{staticClass:"main-grid"},[e("div",{staticClass:"menu-section"},[e("h3",[t._v(t._s(t.selectedMenu?t.selectedMenu.name:""))]),t.selectedMenu?e("div",{staticClass:"menu-grid"},t._l(t.selectedMenu.menu_items,(function(a,s){return e("div",{key:s,staticClass:"menu-card",style:`background-image: url(${a.image})`},[e("div",[e("span",{staticClass:"bg-main-gradient item-price"},[e("span",[t._v("â‚¦")]),t._v(" "+t._s(a.price)+" ")])]),e("div",[e("span",{staticClass:"item-name"},[t._v(t._s(a.name))])]),e("button",{staticClass:"btn btn-main-gradient",on:{click:function(e){return t.updateCart(a)}}},[t._v(" Add to cart ")])])})),0):t._e()]),e("div",{staticClass:"cart-section"},[e("div",{staticClass:"cart-card"},[e("div",{staticClass:"cart-header"},[e("h3",[t._v("New Order")]),e("small",[t._v(t._s(t.cart.length)+" items in cart")])]),e("div",{staticClass:"cart-body"},[e("div",{staticClass:"cart-items"},t._l(t.cart,(function(a,s){return e("div",{key:s,staticClass:"cart-item"},[e("div",{staticClass:"cart-info"},[e("span",{staticClass:"ti-trash",on:{click:function(e){return t.dropItem(s)}}}),e("div",[e("h5",[t._v(t._s(a.name))]),e("small",[t._v("@ "+t._s((Number(a.price)*Number(a.qty)).toLocaleString()))])])]),e("div",{staticClass:"cart-controls"},[e("input",{attrs:{type:"text",readonly:""},domProps:{value:a.qty}}),e("div",[e("span",{staticClass:"ti-angle-up",on:{click:function(e){return t.updateItemQty(s,a,1)}}}),e("span",{staticClass:"ti-angle-down",on:{click:function(e){return t.updateItemQty(s,a,0)}}})])])])})),0),e("div",{staticClass:"cart-sum"},[e("div",{staticClass:"cart-address"},[e("div",{staticClass:"price-flex"},[e("div",[t._m(1),e("p",[t._v(t._s(t.address))])]),e("button",{staticClass:"btn btn-main-gradient",on:{click:function(e){t.showAddressModal=!0}}},[t._v(" Change ")])])]),e("div",[e("div",{staticClass:"price-flex"},[e("small",[t._v("Subtotal")]),e("small",[t._v(t._s(t.cartTotal.toLocaleString()))])]),e("div",{staticClass:"price-flex"},[e("small",[t._v("Total")]),e("h4",[t._v(t._s(t.cartTotal.toLocaleString()))])])]),e("div",{staticClass:"cart-pay-btn"},[null!==t.user&&t.address?e("paystack",{staticClass:"btn btn-success",attrs:{amount:100*t.cartTotal,email:null!==t.user?t.user.email:"",paystackkey:t.paystackkey,reference:t.reference,callback:t.createOrder,close:t.close,embed:!1,disabled:t.validateCheckoutData||null===t.user}},[e("span",{staticClass:"ti-credit-card"}),t._v(" Pay Now ")]):t.address?e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.$router.push("/account")}}},[t._v(" Login to continue ")]):e("button",{staticClass:"btn btn-success",on:{click:function(e){t.showAddressModal=!0}}},[t._v(" Add delivery address ")])],1)])])])])])]),t.showAddressModal?e("modal",{on:{close:function(e){t.showAddressModal=!1}}},[e("h4",{attrs:{slot:"header"},slot:"header"},[t._v("Provide your address")]),e("div",{attrs:{slot:"body"},slot:"body"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Your address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{type:"text",placeholder:"No 230, Abba road"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})])])]):t._e()],1)}),v=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"brand"},[e("h1",[e("span",{staticClass:"ti-bolt"})])])},function(){var t=this,e=t._self._c;return e("small",[e("b",[t._v("Address")])])}],p=a(1101),h=a.n(p),g=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"front-header"},[e("nav",[t._m(0),t._m(1),e("div",{staticClass:"front-nav-links"},[null===t.user?e("div",[e("router-link",{attrs:{to:"/account"}},[e("small",[t._v("Login")])]),t._v(" | "),e("router-link",{attrs:{to:"/account"}},[e("small",[t._v("Register")])])],1):e("div",[e("button",{staticClass:"btn-link",on:{click:t.signout}},[t._m(2)]),t._v(" | "),e("button",{staticClass:"btn-link",on:{click:t.signout}},[t._m(3)])]),e("div",[e("button",{staticClass:"btn btn-main-gradient"},[e("span",{staticClass:"ti-shopping-cart"}),e("span",[t._v(t._s(t.cart.length))])])])])])])])},f=[function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("Foodie")]),e("small",[t._v("Awesome food and Beverages")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"front-search"},[e("span",{staticClass:"ti-search"}),e("input",{attrs:{type:"search",placeholder:"Search or scan for items"}})])},function(){var t=this,e=t._self._c;return e("small",[e("span",{staticClass:"ti-user"}),t._v(" Profile")])},function(){var t=this,e=t._self._c;return e("small",[e("span",{staticClass:"ti-power-off"}),t._v(" Logout")])}],_={name:"Nav",props:["user","cart","categories"],methods:{signout(){localStorage.removeItem("user"),localStorage.removeItem("token"),location.reload()}}},C=_,b=(0,l.Z)(C,g,f,!1,null,null,null),y=b.exports,$=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container",style:`width: ${t.size}`},[e("div",{staticClass:"modal-header"},[t._t("header")],2),e("div",{staticClass:"modal-body"},[t._t("body")],2),e("div",{staticClass:"modal-footer"},[t._t("footer",(function(){return[e("button",{staticClass:"btn btn-main-gradient",on:{click:function(e){return t.$emit("close")}}},[t._v(" Confirm ")])]}))],2)])])])])},w=[],k={name:"Modal",props:["size"]},x=k,A=(0,l.Z)(x,$,w,!1,null,null,null),S=A.exports,I={name:"Home",components:{paystack:h(),modal:S,Nav:y},data(){return{paystackkey:"pk_test_958d46877e4f8434e7ac533a483e5e37464a1ca1",categories:[],active:0,cart:[],address:"",showAddressModal:!1}},mounted(){this.getCategories(),this.getCart()},methods:{getCategories(){this.$axios.get(`${this.$apiUrl}/categories/all`).then((t=>{this.categories=t.data.data})).catch((t=>{console.log(t.response)}))},getCart(){this.cart=JSON.parse(localStorage.cart)||[]},updateCart(t){let e=localStorage.getItem("cart");if(!e||JSON.parse(e).length<1){t.qty=1;let e=[t];return localStorage.setItem("cart",JSON.stringify(e)),this.cart.push(t),void this.$alertify.success("Item added to Cart")}let a=JSON.parse(e),s=!1;a.map((e=>{if(e.id===t.id)return s=!0,e.qty+=1,e})),s||(t.qty=1,a.push(t)),this.cart=a,localStorage.setItem("cart",JSON.stringify(a)),this.$alertify.success("Item added to Cart")},updateItemQty(t,e,a){0===a&&Number(e.qty)>1?e.qty=Number(e.qty)-1:e.qty=Number(e.qty)+1,this.cart[t]=e,localStorage.setItem("cart",JSON.stringify(this.cart)),this.$alertify.success("Cart successfully updated")},dropItem(t){this.cart.splice(t,1),localStorage.setItem("cart",JSON.stringify(this.cart)),this.$alertify.success("Item removed from Cart")},createOrder(t){console.log(t.reference);const e=localStorage.token,a={payment_ref:t.reference,amount:this.cartTotal,user_id:this.user.id,items:JSON.stringify(this.cart),address:this.address};this.$axios.post(`${this.$apiUrl}/create-order`,a,{headers:{Authorization:`Bearer ${e}`}}).then((t=>{localStorage.removeItem("cart"),this.address="",this.cart=[],this.$alertify.success(t.data.message)})).catch((t=>{if(t.response.data.message)return this.$alertify.error(t.response.data.message);this.$alertify.error(Object.values(t.response.data)[0][0])}))},close(){}},computed:{user(){return this.$store.getters.getUser},selectedMenu(){return this.categories[this.active]},cartTotal(){let t=0;return this.cart.map((e=>{t+=Number(e.price)*Number(e.qty)})),t},reference(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let a=0;a<10;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},validateCheckoutData(){return!1}}},N=I,P=(0,l.Z)(N,m,v,!1,null,null,null),O=P.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"account-wrapper"},[e("div",[e("div",[t._m(0),e("div",{staticClass:"account-tabs"},[e("button",{class:0===t.isActive?"is-active":"",on:{click:function(e){t.isActive=0}}},[t._v("Login")]),e("button",{class:1===t.isActive?"is-active":"",on:{click:function(e){t.isActive=1}}},[t._v("Register")])]),e("div",{staticClass:"account-form-wrapper"},[e(t.compsArr[t.isActive],{tag:"component",attrs:{data:t.compsData[t.isActive]},on:{eventact:t.processEvent}})],1)])])])},U=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"account-header"},[e("h3",[e("span",{staticClass:"ti-bolt"}),t._v(" Foodie")]),e("small",[t._v("Awesome food and Beverages")])])}],M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"account-form"},[e("h3",[t._v("Sign into your account")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"example@gmail.com"},domProps:{value:t.data.email},on:{input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"**********"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-main-gradient btn-block",on:{click:function(e){return t.$emit("eventact",{eventType:"signin"})}}},[t._v("Sign in")])])])},D=[],q={props:["data"],name:"Login"},L=q,J=(0,l.Z)(L,M,D,!1,null,null,null),B=J.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"account-form"},[e("h3",[t._v("Create your account")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Sign up as")]),e("div",{staticClass:"role-grid"},[e("div",{staticClass:"role"},[e("span",[t._v("Customer")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.role,expression:"data.role"}],attrs:{type:"radio",id:"customer",name:"role",value:"customer"},domProps:{checked:t._q(t.data.role,"customer")},on:{change:function(e){return t.$set(t.data,"role","customer")}}}),t._m(0)]),e("div",{staticClass:"role"},[e("span",[t._v("Driver")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.role,expression:"data.role"}],attrs:{type:"radio",id:"driver",name:"role",value:"driver"},domProps:{checked:t._q(t.data.role,"driver")},on:{change:function(e){return t.$set(t.data,"role","driver")}}}),t._m(1)])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Full name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"John doe"},domProps:{value:t.data.name},on:{input:function(e){e.target.composing||t.$set(t.data,"name",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"example@gmail.com"},domProps:{value:t.data.email},on:{input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"**********"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-main-gradient btn-block",on:{click:function(e){return t.$emit("eventact",{eventType:"signup"})}}},[t._v("Sign up")])])])},j=[function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"customer"}},[e("span")])},function(){var t=this,e=t._self._c;return e("label",{attrs:{for:"driver"}},[e("span")])}],z={props:["data"],name:"Register"},E=z,F=(0,l.Z)(E,T,j,!1,null,null,null),R=F.exports,V={name:"Account",data(){return{compsArr:[B,R],isActive:0,compsData:[{email:"",password:""},{name:"",email:"",password:"",role:""}]}},methods:{processEvent(t){"signin"===t.eventType?this.signin():"signup"===t.eventType&&this.signup()},signin(){const{email:t,password:e}=this.compsData[this.isActive];if(!t||!e)return this.$alertify.error("Incomplete credentials");this.$axios.post(`${this.$apiUrl}/auth/login`,{email:t,password:e}).then((t=>{const e=t.data;"admin"!==e.user.role&&(localStorage.token=JSON.stringify(e.token),localStorage.user=JSON.stringify(e.user),this.$store.commit("setUser",e.user),this.$router.push("/"))})).catch((t=>{this.$alertify.error(t.response.data.message)}))},signup(){let{role:t,name:e,email:a,password:s}=this.compsData[this.isActive];if(!a||!s||!t||!e)return this.$alertify.error("Incomplete form data");this.$axios.post(`${this.$apiUrl}/auth/register`,{name:e,email:a,password:s,role:t}).then((t=>{this.compsData[this.isActive]={name:"",email:"",password:"",role:""},this.$alertify.success(t.data.message)})).catch((t=>{this.$alertify.error(t.response.data.message)}))}}},H=V,Q=(0,l.Z)(H,Z,U,!1,null,null,null),Y=Q.exports,G=function(){var t=this,e=t._self._c;return e("dashboard-layout",[e("div",{attrs:{slot:"main-content"},slot:"main-content"},[e("h2",{staticClass:"dash-title"},[t._v("Overview")]),e("div",{staticClass:"dash-cards"},[e("div",{staticClass:"card-single"},[e("div",{staticClass:"card-body"},[e("span",{staticClass:"ti-briefcase"}),e("div",[e("h5",[t._v("Account Balance")]),e("h4",[t._v("$30,659.45")])])]),e("div",{staticClass:"card-footer"},[e("a",{attrs:{href:""}},[t._v("View all")])])]),e("div",{staticClass:"card-single"},[e("div",{staticClass:"card-body"},[e("span",{staticClass:"ti-reload"}),e("div",[e("h5",[t._v("Pending")]),e("h4",[t._v("$19,500.45")])])]),e("div",{staticClass:"card-footer"},[e("a",{attrs:{href:""}},[t._v("View all")])])]),e("div",{staticClass:"card-single"},[e("div",{staticClass:"card-body"},[e("span",{staticClass:"ti-check-box"}),e("div",[e("h5",[t._v("Processed")]),e("h4",[t._v("$20,659")])])]),e("div",{staticClass:"card-footer"},[e("a",{attrs:{href:""}},[t._v("View all")])])])]),e("section",{staticClass:"recent"},[e("div",{},[e("div",{staticClass:"activity-card"},[e("h3",[t._v("Recent menu items")]),e("div",{staticClass:"table-responsive"},[e("table",[e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Image")]),e("th",[t._v("Name")]),e("th",[t._v("Category")]),e("th",[t._v("price")]),e("th",[t._v("Available?")])])]),e("tbody",t._l(t.menu,(function(a,s){return e("tr",{key:s},[e("td",[t._v("#"+t._s(s+1))]),e("td",[e("img",{staticStyle:{"border-radius":"50%"},attrs:{src:a.image,height:"50px",width:"50px",alt:""}})]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.category.name))]),e("td",[t._v(t._s(a.price))]),e("td",[1===Number(a.isAvailable)?e("span",{staticClass:"badge success"},[t._v("Available")]):e("span",{staticClass:"badge warning"},[t._v("Not available")])])])})),0)])])])])])])])},K=[],W=function(){var t=this,e=t._self._c;return e("div",[e("input",{attrs:{type:"checkbox",id:"sidebar-toggle"}}),e("div",{staticClass:"sidebar"},[t._m(0),e("div",{staticClass:"sidebar-menu"},[e("ul",[e("li",[e("router-link",{attrs:{to:"/admin/dashboard"}},[e("span",{staticClass:"ti-home"}),e("span",[t._v("Home")])])],1),e("li",[e("router-link",{attrs:{to:"/admin/categories"}},[e("span",{staticClass:"ti-face-smile"}),e("span",[t._v("Categories")])])],1),e("li",[e("router-link",{attrs:{to:"/admin/menu"}},[e("span",{staticClass:"ti-agenda"}),e("span",[t._v("Menu")])])],1),e("li",[e("router-link",{attrs:{to:"/admin/orders"}},[e("span",{staticClass:"ti-clipboard"}),e("span",[t._v("Orders")])])],1),e("li",[e("router-link",{attrs:{to:"/admin/users"}},[e("span",{staticClass:"ti-folder"}),e("span",[t._v("Users")])])],1)])])]),e("div",{staticClass:"main-content"},[e("header",[t._m(1),e("div",{staticClass:"social-icons"},[e("span",{staticClass:"ti-power-off",on:{click:t.signout}}),e("div")])]),e("main",[t._t("main-content")],2)])])},X=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar-header"},[e("h3",{staticClass:"brand"},[e("span",{staticClass:"ti-bolt"}),e("span",[t._v("Foodie")])]),e("label",{staticClass:"ti-menu-alt",attrs:{for:"sidebar-toggle"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-wrapper"},[e("span",{staticClass:"ti-search"}),e("input",{attrs:{type:"search",placeholder:"Search"}})])}],tt={name:"DashboardLayout",methods:{signout(){localStorage.removeItem("authtoken"),localStorage.removeItem("admin"),this.$router.push("/admin/login")}}},et=tt,at=(0,l.Z)(et,W,X,!1,null,null,null),st=at.exports,rt={components:{DashboardLayout:st},name:"AdminHome",data(){return{menu:[]}},mounted(){this.getMenu()},methods:{getMenu(){this.$axios.get(`${this.$apiUrl}/menu/all`).then((t=>{this.menu=t.data.data.slice(0,3)})).catch((t=>{console.log(t.response)}))}}},it=rt,ot=(0,l.Z)(it,G,K,!1,null,null,null),nt=ot.exports,lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"admin-login-wrapper"},[e("div",{staticClass:"admin-form-wrapper"},[e("h3",[t._v("Sign into dashboard")]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"example@gmail.com"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"**********"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-main btn-block",on:{click:t.signin}},[t._v("Sign in")])]),e("div",{staticClass:"form-group form-link"},[e("router-link",{attrs:{to:"/"}},[t._v("Back to home")])],1)])])},ct=[],dt={name:"AdminLogin",data(){return{creds:{email:"",password:""}}},methods:{signin(){const{email:t,password:e}=this.creds;if(!t||!e)return this.$alertify.error("Incomplete credentials");this.$axios.post(`${this.$apiUrl}/auth/login`,{email:t,password:e}).then((t=>{const e=t.data;if("admin"!==e.user.role)return this.$alertify.error("Unauthorized access");localStorage.authtoken=e.token,localStorage.admin=JSON.stringify(e.user),this.$router.push("/admin/dashboard")})).catch((t=>{this.$alertify.error(t.response.data.message)}))}}},ut=dt,mt=(0,l.Z)(ut,lt,ct,!1,null,null,null),vt=mt.exports,pt=function(){var t=this,e=t._self._c;return e("dashboard-layout",[e("div",{attrs:{slot:"main-content"},slot:"main-content"},[e("h2",{staticClass:"dash-title"},[t._v("Categories")]),e("div",{staticClass:"page-action"},[e("button",{staticClass:"btn btn-main",on:{click:function(e){return t.$router.push("/admin/category/add")}}},[e("span",{staticClass:"ti-plus"}),t._v(" Add category")])]),e("section",{staticClass:"recent"},[e("div",{},[e("div",{staticClass:"activity-card"},[e("h3",[t._v("Added Categories")]),e("div",{staticClass:"table-responsive"},[e("table",[e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Name")]),e("th",[t._v("Action")])])]),e("tbody",t._l(t.categories,(function(a,s){return e("tr",{key:s},[e("td",[t._v("#"+t._s(s+1))]),e("td",[t._v(t._s(a.name))]),e("td",[e("button",{staticClass:"btn btn-main-gradient",on:{click:function(e){return t.removeCategory(a.id,s)}}},[e("span",{staticClass:"ti-trash"})])])])})),0)])])])])])])])},ht=[],gt={name:"Categories",components:{DashboardLayout:st},data(){return{categories:[]}},mounted(){this.getCategories()},methods:{getCategories(){this.$axios.get(`${this.$apiUrl}/categories/all`).then((t=>{this.categories=t.data.data})).catch((t=>{console.log(t.response)}))},removeCategory(t,e){this.$axios.delete(`${this.$apiUrl}/categories/${t}/delete`,{headers:{Authorization:`Bearer ${localStorage.authtoken}`}}).then((()=>{this.$alertify.success("Category deleted successfully"),this.categories.splice(e,1)})).catch((t=>{console.log(t.response)}))}}},ft=gt,_t=(0,l.Z)(ft,pt,ht,!1,null,null,null),Ct=_t.exports,bt=function(){var t=this,e=t._self._c;return e("dashboard-layout",[e("div",{attrs:{slot:"main-content"},slot:"main-content"},[e("h2",{staticClass:"dash-title"},[t._v("Add category")]),e("section",{staticClass:"recent"},[e("div",{},[e("div",{staticClass:"activity-card pad-1"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Category name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Category name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-main",on:{click:t.addCategory}},[t._v("Submit")])])])])])])])},yt=[],$t={name:"AddCategory",components:{DashboardLayout:st},data(){return{name:""}},methods:{addCategory(){if(!this.name)return this.$alertify.error("Incomplete form data");this.$axios.post(`${this.$apiUrl}/categories/add`,{name:this.name},{headers:{Authorization:`Bearer ${localStorage.authtoken}`}}).then((()=>{this.$router.push("/admin/categories")})).catch((t=>{if(t.response.data.message)return this.$alertify.error(t.response.data.message);this.$alertify.error(Object.values(t.response.data)[0][0])}))}}},wt=$t,kt=(0,l.Z)(wt,bt,yt,!1,null,null,null),xt=kt.exports,At=function(){var t=this,e=t._self._c;return e("dashboard-layout",[e("div",{attrs:{slot:"main-content"},slot:"main-content"},[e("h2",{staticClass:"dash-title"},[t._v("Orders")]),e("section",{staticClass:"recent"},[e("div",{},[e("div",{staticClass:"activity-card"},[e("h3",[t._v("Order history")]),e("div",{staticClass:"table-responsive"},[e("table",[e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("PayRef")]),e("th",[t._v("Amount")]),e("th",[t._v("Status")]),e("th",[t._v("Date delivered")]),e("th",[t._v("Action")])])]),e("tbody",t._l(t.orders,(function(a,s){return e("tr",{key:s},[e("td",[t._v("#"+t._s(s+1))]),e("td",[t._v(t._s(a.payment_ref))]),e("td",[t._v(t._s(a.amount))]),e("td",[t._v(t._s(a.status))]),e("td",[t._v(" "+t._s(a.date_delivered)+" ")]),e("td",[e("button",{staticClass:"btn btn-main"},[e("span",{staticClass:"ti-info-circle"}),t._v(" View")])])])})),0)])])])])])])])},St=[],It={components:{DashboardLayout:st},name:"Orders",data(){return{orders:[]}},mounted(){this.getOrders()},methods:{getOrders(){this.$axios.get(`${this.$apiUrl}/orders/all`,{headers:{Authorization:`Bearer ${localStorage.authtoken}`}}).then((t=>{this.orders=t.data.data,this.orders.map((t=>(t.items=JSON.parse(t.items),t)))})).catch((t=>{console.log(t.response)}))}}},Nt=It,Pt=(0,l.Z)(Nt,At,St,!1,null,null,null),Ot=Pt.exports,Zt=function(){var t=this,e=t._self._c;return e("dashboard-layout",[e("div",{attrs:{slot:"main-content"},slot:"main-content"},[e("h2",{staticClass:"dash-title"},[t._v("Menu")]),e("div",{staticClass:"page-action"},[e("button",{staticClass:"btn btn-main",on:{click:function(e){return t.$router.push("/admin/menu/add")}}},[e("span",{staticClass:"ti-plus"}),t._v(" Add menu item")])]),e("section",{staticClass:"recent"},[e("div",{},[e("div",{staticClass:"activity-card"},[e("h3",[t._v("Added menu item")]),e("div",{staticClass:"table-responsive"},[e("table",[e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Image")]),e("th",[t._v("Name")]),e("th",[t._v("Category")]),e("th",[t._v("price")]),e("th",[t._v("Available?")]),e("th",[t._v("Action")])])]),e("tbody",t._l(t.menu,(function(a,s){return e("tr",{key:s},[e("td",[t._v("#"+t._s(s+1))]),e("td",[e("img",{staticStyle:{"border-radius":"50%"},attrs:{src:a.image,height:"50px",width:"50px",alt:""}})]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.category.name))]),e("td",[t._v(t._s(a.price))]),e("td",[1===Number(a.isAvailable)?e("span",{staticClass:"badge success"},[t._v("Available")]):e("span",{staticClass:"badge warning"},[t._v("Not available")])]),e("td",[e("button",{staticClass:"btn btn-main-gradient",on:{click:function(e){return t.removeMenu(a.id,s)}}},[e("span",{staticClass:"ti-trash"})])])])})),0)])])])])])])])},Ut=[],Mt={components:{DashboardLayout:st},name:"Menu",data(){return{menu:[]}},mounted(){this.getMenu()},methods:{getMenu(){this.$axios.get(`${this.$apiUrl}/menu/all`).then((t=>{this.menu=t.data.data})).catch((t=>{console.log(t.response)}))},removeMenu(t,e){this.$axios.delete(`${this.$apiUrl}/menu/${t}/delete`,{headers:{Authorization:`Bearer ${localStorage.authtoken}`}}).then((()=>{this.$alertify.success("Menu item deleted successfully"),this.menu.splice(e,1)})).catch((t=>{console.log(t.response)}))}}},Dt=Mt,qt=(0,l.Z)(Dt,Zt,Ut,!1,null,null,null),Lt=qt.exports,Jt=function(){var t=this,e=t._self._c;return e("dashboard-layout",[e("div",{attrs:{slot:"main-content"},slot:"main-content"},[e("h2",{staticClass:"dash-title"},[t._v("Add category")]),e("section",{staticClass:"recent"},[e("div",{},[e("div",{staticClass:"activity-card pad-1"},[e("form",{attrs:{enctype:"multipart/form-data"}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.menuItem.name,expression:"menuItem.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Item name"},domProps:{value:t.menuItem.name},on:{input:function(e){e.target.composing||t.$set(t.menuItem,"name",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Category")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.menuItem.category_id,expression:"menuItem.category_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.menuItem,"category_id",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Choose")]),t._l(t.categories,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Price")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.menuItem.price,expression:"menuItem.price"}],staticClass:"form-control",attrs:{type:"number",min:"1",placeholder:"Item price"},domProps:{value:t.menuItem.price},on:{input:function(e){e.target.composing||t.$set(t.menuItem,"price",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("image")]),e("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:function(e){return t.saveImage(e)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-main",attrs:{type:"button"},on:{click:t.addItem}},[t._v("Submit")])])])])])])])])},Bt=[],Tt={name:"AddMenu",components:{DashboardLayout:st},data(){return{categories:[],menuItem:{name:"",isAvailable:!0,category_id:"",price:"",image:""}}},mounted(){this.getCategories()},methods:{getCategories(){this.$axios.get(`${this.$apiUrl}/categories/all`).then((t=>{this.categories=t.data.data})).catch((t=>{console.log(t.response)}))},async saveImage(t){const e=new FormData;e.append("file",t.target.files[0]),e.append("upload_preset","foodlaravelordering"),e.append("cloud","ddjfwp9wf");try{const t=await this.$axios.post("https://api.cloudinary.com/v1_1/ddjfwp9wf/image/upload",e);this.menuItem.image=t.data.url}catch(a){console.log(a.response)}},addItem(){const{name:t,price:e,category_id:a,image:s,isAvailable:r}=this.menuItem;if(!t||!e||!a||!s)return this.$alertify.error("Incomplete form data");this.$axios.post(`${this.$apiUrl}/menu/add`,{name:t,price:e,category_id:a,image:s,isAvailable:r},{headers:{Authorization:`Bearer ${localStorage.authtoken}`}}).then((()=>{this.$router.push("/admin/menu")})).catch((t=>{if(t.response.data.message)return this.$alertify.error(t.response.data.message);this.$alertify.error(Object.values(t.response.data)[0][0])}))}}},jt=Tt,zt=(0,l.Z)(jt,Jt,Bt,!1,null,null,null),Et=zt.exports,Ft=function(){var t=this,e=t._self._c;return e("dashboard-layout",[e("div",{attrs:{slot:"main-content"},slot:"main-content"},[e("h2",{staticClass:"dash-title"},[t._v("Users")]),e("div",{staticClass:"page-action"},[e("button",{staticClass:"btn btn-main",on:{click:function(e){return t.$router.push("/admin/user/add")}}},[e("span",{staticClass:"ti-plus"}),t._v(" Add user")])]),e("section",{staticClass:"recent"},[e("div",{},[e("div",{staticClass:"activity-card"},[e("h3",[t._v("Added users")]),e("div",{staticClass:"table-responsive"},[e("table",[e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Name")]),e("th",[t._v("Email")]),e("th",[t._v("Role")])])]),e("tbody",t._l(t.users,(function(a,s){return e("tr",{key:s},[e("td",[t._v("#"+t._s(s+1))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v(t._s(a.role))])])})),0)])])])])])])])},Rt=[],Vt={components:{DashboardLayout:st},name:"Users",data(){return{users:[]}},mounted(){this.getUsers()},methods:{getUsers(){this.$axios.get(`${this.$apiUrl}/users/all`,{headers:{Authorization:`Bearer ${localStorage.authtoken}`}}).then((t=>{this.users=t.data.data})).catch((t=>{console.log(t.response)}))}}},Ht=Vt,Qt=(0,l.Z)(Ht,Ft,Rt,!1,null,null,null),Yt=Qt.exports,Gt=function(){var t=this,e=t._self._c;return e("dashboard-layout",[e("div",{attrs:{slot:"main-content"},slot:"main-content"},[e("h2",{staticClass:"dash-title"},[t._v("Add user")]),e("section",{staticClass:"recent"},[e("div",{},[e("div",{staticClass:"activity-card pad-1"},[e("form",{attrs:{enctype:"multipart/form-data"}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Fullname")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name of user"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email of user"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Role")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.role,expression:"user.role"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"role",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Choose")]),e("option",{attrs:{value:"admin"}},[t._v("Administrator")]),e("option",{attrs:{value:"customer"}},[t._v("Customer")]),e("option",{attrs:{value:"driver"}},[t._v("Driver")])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"*********"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-main",attrs:{type:"button"},on:{click:t.addUser}},[t._v("Submit")])])])])])])])])},Kt=[],Wt={name:"AddMenu",components:{DashboardLayout:st},data(){return{categories:[],user:{name:"",email:"",role:"",password:""}}},mounted(){},methods:{addUser(){const{name:t,email:e,role:a,password:s}=this.user;if(!t||!e||!a||!s)return this.$alertify.error("Incomplete form data");this.$axios.post(`${this.$apiUrl}/auth/register`,{name:t,email:e,role:a,password:s},{headers:{Authorization:`Bearer ${localStorage.authtoken}`}}).then((()=>{this.$router.push("/admin/users")})).catch((t=>{if(t.response.data.message)return this.$alertify.error(t.response.data.message);this.$alertify.error(Object.values(t.response.data)[0][0])}))}}},Xt=Wt,te=(0,l.Z)(Xt,Gt,Kt,!1,null,null,null),ee=te.exports;s.ZP.use(u.ZP);const ae=[{path:"/",component:O},{path:"/account",component:Y},{path:"/admin/login",component:vt},{path:"/admin/dashboard",meta:{requiresAuth:!0,admin:!0},component:nt},{path:"/admin/categories",meta:{requiresAuth:!0,admin:!0},component:Ct},{path:"/admin/category/add",meta:{requiresAuth:!0,admin:!0},component:xt},{path:"/admin/menu",meta:{requiresAuth:!0,admin:!0},component:Lt},{path:"/admin/menu/add",meta:{requiresAuth:!0,admin:!0},component:Et},{path:"/admin/orders",meta:{requiresAuth:!0,admin:!0},component:Ot},{path:"/admin/users",meta:{requiresAuth:!0,admin:!0},component:Yt},{path:"/admin/user/add",meta:{requiresAuth:!0,admin:!0},component:ee}],se=new u.ZP({mode:"history",routes:ae});se.beforeEach(((t,e,a)=>{const s=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("admin")),i=localStorage.getItem("authtoken");return t.meta.admin&&!0===t.meta.admin&&(i&&null!==i||a("/admin/login"),r&&null!==r||a("/"),"admin"!==r.role&&a("/")),"/admin/login"===t.path&&i?a("/admin/dashboard"):"/account"===t.path&&s?a("/"):"/account"===t.path||s?void a():a()}));var re=se,ie=a(408);s.ZP.use(ie.ZP);const oe=new ie.ZP.Store({state:{loader:!1,user:null},getters:{getUser:t=>{const e=localStorage.getItem("user");return null!=t.user?t.user:e&&JSON.parse(e)?JSON.parse(e):null}},mutations:{setUser:(t,e)=>{t.user=e}},actions:{}});var ne=oe,le=a(306),ce=a(2478);s.ZP.prototype.$apiUrl="http://localhost/api",s.ZP.prototype.$axios=le.Z,s.ZP.use(ce.Z,{notifier:{delay:5,position:"top-right",closeButton:!1}}),s.ZP.config.productionTip=!1,new s.ZP({store:ne,router:re,render:t=>t(d)}).$mount("#app")},3549:function(t,e,a){t.exports=a.p+"img/fast-food.9cd568a6.svg"}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,i){if(!s){var o=1/0;for(d=0;d<t.length;d++){s=t[d][0],r=t[d][1],i=t[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(n=!1,i<o&&(o=i));if(n){t.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[s,r,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,i,o=s[0],n=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(l)var d=l(a)}for(e&&e(s);c<o.length;c++)i=o[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},s=self["webpackChunkvuefrontendfood"]=self["webpackChunkvuefrontendfood"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6536)}));s=a.O(s)})();
//# sourceMappingURL=app.b67e82e4.js.map